(function framework7ComponentLoader(e,a){void 0===a&&(a=!0);document,window;var Y=e.$,_=(e.Template7,e.utils),D=(e.device,e.support),t=e.Class,n=(e.Modal,e.ConstructorMethods),i=(e.ModalMethods,function(X){function e(a,t){X.call(this,t,[a]);var o=this,e={el:null,inputEl:null,dual:!1,step:1,label:!1,min:0,max:100,value:0,draggableBar:!0,vertical:!1,verticalReversed:!1};o.useModulesParams(e),o.params=_.extend(e,t);var r=o.params.el;if(!r)return o;var n=Y(r);if(0===n.length)return o;if(n[0].f7Range)return n[0].f7Range;var i,l=n.dataset();"step min max value".split(" ").forEach(function(e){void 0===t[e]&&void 0!==l[e]&&(o.params[e]=parseFloat(l[e]))}),"dual label".split(" ").forEach(function(e){void 0===t[e]&&void 0!==l[e]&&(o.params[e]=l[e])}),o.params.value||(void 0!==l.value&&(o.params.value=l.value),void 0!==l.valueLeft&&void 0!==l.valueRight&&(o.params.value=[parseFloat(l.valueLeft),parseFloat(l.valueRight)])),void 0===t.vertical&&void 0!==l.vertical&&(o.params.vertical=l.vertical),void 0===t.verticalReversed&&void 0!==l.verticalReversed&&(o.params.verticalReversed=l.verticalReversed),o.params.dual||(o.params.inputEl?i=Y(o.params.inputEl):n.find('input[type="range"]').length&&(i=n.find('input[type="range"]').eq(0)));var s=o.params,u=s.dual,v=s.step,d=s.label,c=s.min,p=s.max,g=s.value,f=s.vertical,h=s.verticalReversed;_.extend(o,{$el:n,el:n[0],$inputEl:i,inputEl:i?i[0]:void 0,dual:u,step:v,label:d,min:c,max:p,value:g,previousValue:g,vertical:f,verticalReversed:h}),i&&("step min max".split(" ").forEach(function(e){!t[e]&&i.attr(e)&&(o.params[e]=parseFloat(i.attr(e)),o[e]=parseFloat(i.attr(e)))}),void 0!==i.val()&&(o.params.value=parseFloat(i.val()),o.value=parseFloat(i.val()))),o.dual&&n.addClass("range-slider-dual"),o.label&&n.addClass("range-slider-label"),o.vertical?(n.addClass("range-slider-vertical"),o.verticalReversed&&n.addClass("range-slider-vertical-reversed")):n.addClass("range-slider-horizontal");var m=Y('<div class="range-bar"></div>'),b=Y('<div class="range-bar-active"></div>');m.append(b);var y,x='\n      <div class="range-knob-wrap">\n        <div class="range-knob"></div>\n        '+(o.label?'<div class="range-knob-label"></div>':"")+"\n      </div>\n    ",$=[Y(x)],R=[];o.dual&&$.push(Y(x)),n.append(m),$.forEach(function(e){n.append(e)}),o.label&&(R.push($[0].find(".range-knob-label")),o.dual&&R.push($[1].find(".range-knob-label"))),_.extend(o,{app:a,knobs:$,labels:R,$barEl:m,$barActiveEl:b}),n[0].f7Range=o;var E,k,M,C,V,W,w,H,F,z,S={};function T(){w=!0}function B(e){if(!y&&(o.params.draggableBar||0!==Y(e.target).closest(".range-knob").length)){var a;w=!1,S.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,S.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY,y=!0,E=void 0,k=n.offset(),M=k.left,C=k.top,o.vertical?(a=(S.y-C)/o.rangeHeight,o.verticalReversed&&(a=1-a)):a=o.app.rtl?(M+o.rangeWidth-S.x)/o.rangeWidth:(S.x-M)/o.rangeWidth;var t=a*(o.max-o.min)+o.min;t=o.dual?Math.abs(o.value[0]-t)<Math.abs(o.value[1]-t)?(W=0,V=o.knobs[0],[t,o.value[1]]):(W=1,V=o.knobs[1],[o.value[0],t]):(V=o.knobs[0],a*(o.max-o.min)+o.min),_.nextTick(function(){y&&V.addClass("range-knob-active-state")},70),o.on("change",T),o.setValue(t,!0)}}function L(e){if(y){var a="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,t="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY;if(void 0===E&&(E=o.vertical?!(E||Math.abs(t-S.y)>Math.abs(a-S.x)):!!(E||Math.abs(t-S.y)>Math.abs(a-S.x))),E)y=!1;else{var r;e.preventDefault(),o.vertical?(r=(t-C)/o.rangeHeight,o.verticalReversed&&(r=1-r)):r=o.app.rtl?(M+o.rangeWidth-a)/o.rangeWidth:(a-M)/o.rangeWidth;var n,i,l=r*(o.max-o.min)+o.min;if(o.dual)0===W?(n=l,(i=o.value[1])<n&&(i=n)):(i=l)<(n=o.value[0])&&(n=i),l=[n,i];o.setValue(l,!0)}}}function A(){if(!y)return E&&V.removeClass("range-knob-active-state"),void(y=!1);o.off("change",T),y=!1,V.removeClass("range-knob-active-state"),w&&o.$inputEl&&!o.dual&&o.$inputEl.trigger("change"),w=!1,void 0!==o.previousValue&&(o.dual&&(o.previousValue[0]!==o.value[0]||o.previousValue[1]!==o.value[1])||!o.dual&&o.previousValue!==o.value)&&(o.$el.trigger("range:changed",o,o.value),o.emit("local::changed rangeChanged",o,o.value))}function P(){o.calcSize(),o.layout()}return o.attachEvents=function(){var e=!!D.passiveListener&&{passive:!0};o.$el.on(a.touchEvents.start,B,e),a.on("touchmove",L),a.on("touchend:passive",A),a.on("tabShow",P),a.on("resize",P),(H=o.$el.parents(".sheet-modal, .actions-modal, .popup, .popover, .login-screen, .dialog, .toast")).on("modal:open",P),(F=o.$el.parents(".panel")).on("panel:open",P),(z=o.$el.parents(".page").eq(0)).on("page:reinit",P)},o.detachEvents=function(){var e=!!D.passiveListener&&{passive:!0};o.$el.off(a.touchEvents.start,B,e),a.off("touchmove",L),a.off("touchend:passive",A),a.off("tabShow",P),a.off("resize",P),H&&H.off("modal:open",P),F&&F.off("panel:open",P),z&&z.off("page:reinit",P),z=F=H=null},o.useModules(),o.init(),o}return X&&(e.__proto__=X),((e.prototype=Object.create(X&&X.prototype)).constructor=e).prototype.calcSize=function(){var e=this;if(e.vertical){var a=e.$el.outerHeight();if(0===a)return;e.rangeHeight=a,e.knobHeight=e.knobs[0].outerHeight()}else{var t=e.$el.outerWidth();if(0===t)return;e.rangeWidth=t,e.knobWidth=e.knobs[0].outerWidth()}},e.prototype.layout=function(){var e,a=this,t=a.app,r=a.knobWidth,n=a.knobHeight,i=a.rangeWidth,l=a.rangeHeight,o=a.min,s=a.max,u=a.knobs,v=a.$barActiveEl,d=a.value,c=a.label,p=a.labels,g=a.vertical,f=a.verticalReversed,h=g?n:r,m=g?l:i,b=g?f?"bottom":"top":t.rtl?"right":"left";if(a.dual){var y=[(d[0]-o)/(s-o),(d[1]-o)/(s-o)];v.css(((e={})[b]=100*y[0]+"%",e[g?"height":"width"]=100*(y[1]-y[0])+"%",e)),u.forEach(function(e,a){var t=m*y[a],r=m*y[a]-h/2;r<0&&(t=h/2),m<r+h&&(t=m-h/2),e.css(b,t+"px"),c&&p[a].text(d[a])})}else{var x=(d-o)/(s-o);v.css(g?"height":"width",100*x+"%");var $=m*x,R=m*x-h/2;R<0&&($=h/2),m<R+h&&($=m-h/2),u[0].css(b,$+"px"),c&&p[0].text(d)}a.dual&&0<=d.indexOf(o)||!a.dual&&d===o?a.$el.addClass("range-slider-min"):a.$el.removeClass("range-slider-min"),a.dual&&0<=d.indexOf(s)||!a.dual&&d===s?a.$el.addClass("range-slider-max"):a.$el.removeClass("range-slider-max")},e.prototype.setValue=function(e,a){var t,r,n=this,i=n.step,l=n.min,o=n.max;if(n.dual){r=[n.value[0],n.value[1]];var s=e;if(Array.isArray(s)||(s=[e,e]),e[0]>e[1]&&(s=[s[0],s[0]]),(s=s.map(function(e){return Math.max(Math.min(Math.round(e/i)*i,o),l)}))[0]===n.value[0]&&s[1]===n.value[1])return n;s.forEach(function(e,a){n.value[a]=e}),t=r[0]!==s[0]||r[1]!==s[1],n.layout()}else{r=n.value;var u=Math.max(Math.min(Math.round(e/i)*i,o),l);n.value=u,n.layout(),t=r!==u}return t&&(n.previousValue=r),t&&(n.$el.trigger("range:change",n,n.value),n.$inputEl&&!n.dual&&(n.$inputEl.val(n.value),a?n.$inputEl.trigger("input"):n.$inputEl.trigger("input change")),a||(n.$el.trigger("range:changed",n,n.value),n.emit("local::changed rangeChanged",n,n.value)),n.emit("local::change rangeChange",n,n.value)),n},e.prototype.getValue=function(){return this.value},e.prototype.init=function(){return this.calcSize(),this.layout(),this.attachEvents(),this},e.prototype.destroy=function(){var e=this;e.$el.trigger("range:beforedestroy",e),e.emit("local::beforeDestroy rangeBeforeDestroy",e),delete e.$el[0].f7Range,e.detachEvents(),_.deleteProps(e),e=null},e}(t)),r={name:"range",create:function(){var r=this;r.range=_.extend(n({defaultSelector:".range-slider",constructor:i,app:r,domProp:"f7Range"}),{getValue:function(e){void 0===e&&(e=".range-slider");var a=r.range.get(e);if(a)return a.getValue()},setValue:function(e,a){void 0===e&&(e=".range-slider");var t=r.range.get(e);if(t)return t.setValue(a)}})},static:{Range:i},on:{tabMounted:function(e){var t=this;Y(e).find(".range-slider-init").each(function(e,a){return new i(t,{el:a})})},tabBeforeRemove:function(e){Y(e).find(".range-slider-init").each(function(e,a){a.f7Range&&a.f7Range.destroy()})},pageInit:function(e){var t=this;e.$el.find(".range-slider-init").each(function(e,a){return new i(t,{el:a})})},pageBeforeRemove:function(e){e.$el.find(".range-slider-init").each(function(e,a){a.f7Range&&a.f7Range.destroy()})}},vnode:{"range-slider-init":{insert:function(e){var a=e.elm;this.range.create({el:a})},destroy:function(e){var a=e.elm;a.f7Range&&a.f7Range.destroy()}}}};if(a){if(e.prototype.modules&&e.prototype.modules[r.name])return;e.use(r),e.instance&&(e.instance.useModuleParams(r,e.instance.params),e.instance.useModule(r))}return r}(Framework7, typeof Framework7AutoInstallComponent === 'undefined' ? undefined : Framework7AutoInstallComponent))